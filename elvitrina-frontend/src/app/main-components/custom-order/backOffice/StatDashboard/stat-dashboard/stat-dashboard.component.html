<div class="stats-container">
  <h2 class="title">ðŸ“Š Statistiques Globales</h2>

  <div class="summary-cards">
    <div class="filter-controls">
      <label>ðŸ“… Mois:
        <select [(ngModel)]="selectedMonth" (change)="loadOverviewByMonth()">
          <option *ngFor="let m of months" [value]="m.value">{{ m.name }}</option>
        </select>
      </label>

      <label>AnnÃ©e:
        <select [(ngModel)]="selectedYear" (change)="loadOverviewByMonth()">
          <option *ngFor="let y of years" [value]="y">{{ y }}</option>
        </select>
      </label>
    </div>

    <div class="stat-card orders">
      <h3>Total Commandes</h3>
      <p>{{ totalOrders }}</p>
    </div>
    <div class="stat-card payments">
      <h3>Total Paiements</h3>
      <p>{{ totalPayments }}</p>
    </div>
    <div class="stat-card revenue">
      <h3>Revenus</h3>
      <p>{{ totalRevenue | currency:'EUR' }}</p>
    </div>
  </div>

  <div class="charts">
    <div style="width: 40%">
      <h3>Commandes par statut</h3>
      <ngx-charts-bar-vertical
        *ngIf="ordersChartData.length"
        [results]="ordersChartData"
        [xAxis]="true"
        [yAxis]="true"
        [legend]="true"
        [showDataLabel]="true">
      </ngx-charts-bar-vertical>
    </div>

    <div style="width: 40%">
      <h3>Paiements par mÃ©thode</h3>
      <ngx-charts-pie-chart
        *ngIf="paymentsChartData.length"
        [results]="paymentsChartData"
        [legend]="true"
        [doughnut]="true">
      </ngx-charts-pie-chart>
    </div>

    <div style="width: 80%">
      <h3>Revenus par mois</h3>
      <ngx-charts-line-chart
        *ngIf="revenueChartData.length"
        [results]="revenueChartData"
        [legend]="true"
        [xAxis]="true"
        [yAxis]="true"
        [autoScale]="true">
      </ngx-charts-line-chart>
    </div>
  </div>
</div>
