<mat-card class="center-card">
  <mat-card-header>
    <mat-card-title>Create New Request</mat-card-title>
    <mat-card-subtitle>Fill in the details below</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <div>   
      <form [formGroup]="RequestForm" enctype="multipart/form-data">
        <!-- Title -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Title</mat-label>
          <input matInput formControlName="title" placeholder="Enter title">
        </mat-form-field>
      
        <!-- Description -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Description</mat-label>
          <textarea matInput formControlName="description" rows="4" placeholder="Enter description"></textarea>
        </mat-form-field>
      
        <!-- Min Price -->
        <mat-form-field appearance="outline">
          <mat-label>Min Price</mat-label>
          <input matInput type="number" formControlName="minPrice">
        </mat-form-field>
      
        <!-- Max Price -->
        <mat-form-field appearance="outline">
          <mat-label>Max Price</mat-label>
          <input matInput type="number" formControlName="maxPrice">
        </mat-form-field>
      
        <!-- Image Upload -->
        <div class="image-upload-container">
          <input type="file" accept="image/*" (change)="onFileSelected($event)" #fileInput style="display: none;">
          <button mat-raised-button color="primary" (click)="fileInput.click()">Choose Image</button>
          <div *ngIf="previewUrl" class="image-preview">
            <img [src]="previewUrl" alt="Preview" class="preview-image">
          </div>
        </div>
      
        <!-- Delivery Time -->
        <mat-form-field appearance="outline">
          <mat-label>Delivery Time</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="deliveryTime">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      
        <!-- Tags -->
        <mat-card class="tags-section">
          <mat-card-content>
            <mat-form-field appearance="outline">
              <mat-label>Tags</mat-label>
              <mat-chip-grid #chipGrid aria-label="enter tags">
                <mat-chip-row *ngFor="let tag of tags; let i= index" (removed)="remove(tag)">
                  {{tag}}
                  <button matChipRemove>
                    <mat-icon>cancel</mat-icon>
                  </button>
                </mat-chip-row>
                <input placeholder="New Tag..."
                  [matChipInputFor]="chipGrid"
                  (matChipInputTokenEnd)="add($event)"/>
              </mat-chip-grid>
            </mat-form-field>
          </mat-card-content>
        </mat-card>

        <button mat-raised-button color="primary" style="float:right;" [disabled]="!RequestForm.valid || !selectedFile" (click)="createRequest()">
          Post your request
        </button>
      </form>
    </div>
  </mat-card-content>
</mat-card>